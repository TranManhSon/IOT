<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/bootstrap.css">
    <link rel="stylesheet" href="./font awe/fontawesome-free-5.15.4-web/css/all.css">
    <link rel="stylesheet" href="./style.css">
    <script src="./js/jquery-3.6.4.js"></script>
    <script src="./js/bootstrap.js"></script>
</head>
<body>
    <!-- Home -->
    <div id="home">
        <div class="container">
            <div class="row">
                <div id="logo" class=" col-lg-3 col-md-3 col-sm-12">
                    <h1><a href="#"><img src="./images/zyro-image 1.png" alt=""></a></h1>
                </div>
                <div id="danh-muc" class=" col-lg-9 col-md-9 col-sm-12">
                    <div id="category">
                        <a href="/home/index.html">Trang chủ</a>
                        <a href="/cart/index.html">Giỏ hàng</a>
                        <a href="/statistical/index.html">Thống kê</a>
                        <a href="/login/index.html">Đăng nhập</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Home -->
    <div id="home" >
        <div class="container">
            <div class="row">
                <div id="title" class="col-lg-12 col-md-12 col-sm-12">
                    <i class="fas fa-sort-amount-down"></i>
                    <div id="title-product" class="col-lg-5 col-md-5 col-sm-12">
                        <span>Tên sản phẩm</span>
                    </div>
                    <div id="title-extra" class="col-lg-7 col-md-7 col-sm-12">
                        <span>Giá</span>
                        <span>Số lượng</span>
                        <span>Tổng cộng</span>
                    </div>
                </div>
            </div>
                <!-- <div class="item col-lg-12 col-md-12 col-sm-12" name="listcart">
                    <div class="image-product col-lg-1 col-md-1 col-sm-12 img-fluid">
                        <img src="../image/" alt="">
                    </div>
                    <div class="name-product col-lg-4 col-md-4 col-sm-12">
                        <span>Tên sản phẩm</span><br>
                        <p>Mô tả</p>
                    </div>
                    <div class="detail-product col-lg-7 col-md-7 col-sm-12">
                        <span>259.000</span>
                        <p>2</p>
                        <span>259.000</span>
                        
                    </div>
                    <i class="fas fa-times"></i>
                </div> -->

                <!-- <div class="item col-lg-12 col-md-12 col-sm-12" name="listcart"> 
                     <div class="image-product col-lg-1 col-md-1 col-sm-12 img-fluid">
                        <img src="./images/Rectangle 10.png" alt="">
                    </div>
                    <div class="name-product col-lg-4 col-md-4 col-sm-12">
                        <span>Tên sản phẩm</span><br>
                        <p>Mô tả</p>
                    </div>
                    <div class="detail-product col-lg-7 col-md-7 col-sm-12">
                        <span>259.000</span>
                        <p>2</p>
                        <span>259.000</span>
                    </div>
                    <i class="fas fa-times"></i>
                 </div> -->
                <div id="product-list" class="row">
                    <!-- Danh sách sản phẩm sẽ được thêm vào đây -->
                </div>
        </div>
    </div>

    <!-- Banner -->

    <!-- End Banner -->

    <script>
// document.addEventListener('DOMContentLoaded', function() {
    // Đoạn mã trong đây sẽ được thực hiện khi cây DOM đã sẵn sàng
    var goodList = [];

    async function callListGoods() {
    const url = 'http://3.1.202.106:8080/goods/most';
        try {
            const response = await fetch(url);
            var data = await response.json()
            renderProductList(data);
        } catch (error) {
            console.error(`Download error: ${error.message}`);
        }
    }

    callListGoods();

//});

    function renderProductList(products) {
        
        var productListContainer = document.getElementById('product-list');

        for (var i = 0; i < products.length; i++) {
            console.log(products)
            // Tạo phần tử cho mỗi sản phẩm
            var productElement = document.createElement('div');
            productElement.className = 'item col-lg-12 col-md-12 col-sm-12';

            var productImage = document.createElement('div')
            productImage.className = 'image-product col-lg-1 col-md-1 col-sm-12 img-fluid'
            productImage.innerHTML = `<img src="../images/${products[i].id}.jpeg" alt="">`

            var productNameElement = document.createElement('div');
            productNameElement.className = 'name-product col-lg-4 col-md-4 col-sm-12';
            productNameElement.innerHTML = products[i].goodsName;

            var productExtraElement = document.createElement('div');
            productExtraElement.className = 'detail-product col-lg-7 col-md-7 col-sm-12';
            productExtraElement.innerHTML = `<span>${products[i].price}</span>
                                            <span>${products[i].soldNumber}</span>
                                            <span>${products[i].price * products[i].soldNumber}</span>`;


            // Nối các phần tử con vào phần tử sản phẩm
            productElement.appendChild(productImage);
            productElement.appendChild(productNameElement);
            productElement.appendChild(productExtraElement);
            // productElement.innerHTML = `<i class="fas fa-times"></i>`

            // Thêm sản phẩm vào danh sách
            productListContainer.appendChild(productElement);
    }
}

    </script>
</body>
</html>